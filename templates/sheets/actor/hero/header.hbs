<section class="header">

  <section class="details">
    {{!-- NAME --}}
    {{#if (and isEditMode editable)}}
    {{formInput fields.name value=source.name placeholder=(localize "Name")}}
    {{else}}
    <h1 class="name">{{document.name}}</h1>
    {{/if}}

    <div class="grid-tags">

      {{!-- PATH --}}
      {{#if ctx.path}}
      <span class="label">{{localize "ARTICHRON.SHEET.HERO.path"}}</span>
      <div class="tags">
        <span class="tag glass">{{ctx.path.label}}</span>
      </div>
      {{/if}}

      {{!-- DAMAGE --}}
      <span class="label">{{document.system.damage.label}}</span>
      <div class="tags">
        {{#if (and isEditMode editable)}}
        <span class="tag glass button" data-action="configure" data-config="damage">
          <i class="fa-solid fa-cog fa-fw"></i>
        </span>
        {{else}}
        <span class="tag glass button" data-action="rollDamage">
          <span>{{ctx.damage.part.formula}}</span>
          <i class="fa-solid fa-fw fa-{{lookup (lookup config.DAMAGE_TYPES ctx.damage.part.damageType) 'icon'}}"></i>
        </span>
        {{/if}}
      </div>

      {{!-- POOLS --}}
      <span class="label">{{localize "ARTICHRON.SHEET.HERO.HEADERS.pools"}}</span>
      <div class="tags">
        {{#if (and isEditMode editable)}}
        <span class="tag glass button" data-action="configure" data-config="pools">
          <i class="fa-solid fa-cog fa-fw"></i>
        </span>
        {{else}}
        <span class="tag glass">
          <span>{{document.system.pools.health.value}}</span>
          <span class="sep">/</span>
          <span>{{document.system.pools.health.max}}</span>
          <i class="fa-solid fa-fw fa-dice-d10" style="color: var(--artichron-color-pool-health);"></i>
        </span>
        <span class="tag glass">
          <span>{{document.system.pools.stamina.value}}</span>
          <span class="sep">/</span>
          <span>{{document.system.pools.stamina.max}}</span>
          <i class="fa-solid fa-fw fa-dice-d10" style="color: var(--artichron-color-pool-stamina);"></i>
        </span>
        <span class="tag glass">
          <span>{{document.system.pools.mana.value}}</span>
          <span class="sep">/</span>
          <span>{{document.system.pools.mana.max}}</span>
          <i class="fa-solid fa-fw fa-dice-d10" style="color: var(--artichron-color-pool-mana);"></i>
        </span>
        {{/if}}
      </div>

      {{!-- DEFENSES --}}
      {{#if ctx.defenses.length}}
      <span class="label">{{localize "ARTICHRON.SHEET.HERO.HEADERS.defenses"}}</span>
      <div class="tags">
        {{#each ctx.defenses}}
        <span class="tag glass" data-tooltip="{{label}}">
          <span>{{value}}</span>
          <i class="fa-fw {{icon}}" style="color: #{{color}};"></i>
        </span>
        {{/each}}
      </div>
      {{/if}}

      {{!-- SKILLS --}}
      <span class="label">{{localize "ARTICHRON.SHEET.HERO.HEADERS.skills"}}</span>
      <div class="tags">
        {{#each ctx.skills}}
        <span class="tag button glass" data-action="rollSkill" data-skill-id="{{skillId}}">
          <artichron-icon style="--icon-fill: var(--artichron-color-skill-{{skillId}});" src="{{img}}"></artichron-icon>
          <span>{{label}}</span>
          <span>{{formula}}</span>
        </span>
        {{/each}}
      </div>
    </div>
  </section>

  {{!-- AVATAR --}}
  <section class="avatar glass">
    {{#if (and isEditMode editable)}}
    <img class="icon" alt="{{source.name}}" src="{{source.img}}" data-edit="img" data-action="editImage">
    {{else}}
    <img class="icon" alt="{{document.name}}" src="{{document.img}}">
    {{/if}}
  </section>

</section>
